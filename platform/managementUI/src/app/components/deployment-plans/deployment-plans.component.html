<div>
  <h1>Deployment Plans</h1>

  <!-- <mat-form-field appearance="outline">
    <mat-label>Deployment Plan</mat-label>
    <mat-select *ngIf="deploymentPlans" [(value)]="selected">
      <mat-option *ngFor="let plan of deploymentPlans.value" [value]="plan">
        {{getName(plan.value)}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-card>selected: <span *ngIf="selected && selected.value" style="background-color: white; color:black">{{ getName(selected.value) }}</span></mat-card>
  <button mat-raised-button class="button" (click)="deploy()">deploy</button>
  <button mat-raised-button style="background-color: rgb(255,204,0)" (click)="undeploy()">udeploy</button> -->

  <mat-list *ngIf="deploymentPlans; else noPlans">
    <div *ngFor="let plan of deploymentPlans.value; let i = index">
      <mat-list-item [ngClass]="applyLineStyle(i)">
        <div class="container">
          <span class="name">{{ getName(plan.value) }}</span>
          <span *ngIf="plan.description" class="description">{{ plan.description }}</span>
          <span>
            <button mat-raised-button class="button" (click)="deploy(plan)">deploy</button>
            <button mat-raised-button style="background-color: rgb(255,204,0)" (click)="undeploy(plan)">udeploy</button>
          </span>
        </div>
      </mat-list-item>
      <mat-divider></mat-divider>
    </div>
  </mat-list>
  <ng-template #noPlans>
    <div>
      <span>no deployment plans found</span>
    </div>
  </ng-template>

</div>
