
<div class="status-container">
  <mat-card appearance="outlined" *ngFor="let process of StatusCollection" class="status-card">

    <mat-card-content>
      <div style="display: flex; justify-content: center;" *ngVar="getLastStatus(process); let status">

        <mat-card appearance="outlined" class="status-indicator">
          <mat-progress-spinner
            *ngIf="!process.isFinished"
            [diameter]="50" mode="indeterminate" >
          </mat-progress-spinner>
          <mat-icon *ngIf="process.isFinished && process.isSuccesful"
            class="checkmark">
            check
          </mat-icon>
          <mat-icon
            *ngIf="process.isFinished && !process.isSuccesful"
            class="cross">
            close
          </mat-icon>
        </mat-card>

        <div>
          <div *ngIf="status">
            <div *ngIf="status.action === 'ERROR'">
              {{ status.action }}
            </div>
            {{ status.componentType }}
            <span [matTooltip]="status.id">
              {{ status.id }}
            </span>
            <div [matTooltip]="status.description">
              {{ status.description }}
            </div>
            <div *ngIf="status.progress >= 0">
              {{ status.progress }} %
            </div>
            <div #result></div>
            <div *ngIf="!status.description"
              style="height: 27px;">
            </div>
          </div>

          <button mat-raised-button (click)="details(process)" class="more-btn" id="status.btnDetails">
            details
          </button>
          <button mat-raised-button (click)="dismiss(process)" id="status.btnDismiss">
            dismiss
          </button>

        </div>

      </div>
    </mat-card-content>

  </mat-card>
</div>
