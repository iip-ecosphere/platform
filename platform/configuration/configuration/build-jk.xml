<?xml version="1.0" encoding="UTF-8"?>
<project name="configuration.configuration" default="maven" basedir=".">
	<!-- import of the global SSE Jenkins properties -->
	<property file="${user.home}/global-build.properties"/>
	<property file="${user.home}/qualimaster-build.properties"/>
	<include file="${user.home}/macros.xml"/>
	
    <!-- deploy to SSE Mvn repo -->
	<target name="maven">
        <exec executable="/bin/bash">
	      <arg value="${basedir}/cleanup.sh"/>
        </exec>
		<exec executable="/bin/bash ${basedir}/cleanup.sh" />
		
	    <maven pomFile="pom.xml" goal="package"/>
		<mvnDeployResolveArtifact folderName="IIP-configuration.configuration" pomFile="pom.xml" jarFolder="target" artifactPattern="configuration.configuration-*.*.*.jar" />
		
		<ant dir="gen/tests/SimpleMesh/ApplicationInterfaces" antfile="build-jk.xml" />
        <ant dir="gen/tests/SimpleMesh3/ApplicationInterfaces" antfile="build-jk.xml" />
        <ant dir="gen/tests/KodexMesh/ApplicationInterfaces" antfile="build-jk.xml" />
        <ant dir="gen/tests/ContainerCreation/ApplicationInterfaces" antfile="build-jk.xml" />
        <ant dir="gen/tests/RoutingTest/ApplicationInterfaces" antfile="build-jk.xml" />

		<ant dir="gen/tests/SimpleMesh/SimpleMeshTestingApp" antfile="build-jk.xml" />
		<ant dir="gen/tests/SimpleMesh3/SimpleMeshTestingApp3" antfile="build-jk.xml" />
		<ant dir="gen/tests/KodexMesh/SimpleKodexTestingApp" antfile="build-jk.xml" />
        <ant dir="gen/tests/RoutingTest/RoutingTestApp" antfile="build-jk.xml" />
	</target>
</project>
